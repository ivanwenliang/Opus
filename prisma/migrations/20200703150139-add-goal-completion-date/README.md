# Migration `20200703150139-add-goal-completion-date`

This migration has been generated by Ivan Liang at 7/3/2020, 3:01:39 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."AnnualGoal" ADD COLUMN "completionDate" timestamp(3)   ;

ALTER TABLE "public"."MonthlyGoal" ADD COLUMN "completionDate" timestamp(3)   ;

ALTER TABLE "public"."WeeklyGoal" ADD COLUMN "completionDate" timestamp(3)   ;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200626152612-change-period-to-datetime..20200703150139-add-goal-completion-date
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -22,45 +22,48 @@
 }
 // Consider a smaller period like quarters?
 model AnnualGoal {
-  id            Int           @id @default(autoincrement())
-  goalStatement String
-  category      String
-  nickname      String
-  status        String
-  createdAt     DateTime      @default(now())
-  year          DateTime
-  user          User          @relation(fields: [userId], references: [id])
-  userId        String
-  monthlyGoals  MonthlyGoal[]
+  id             Int           @id @default(autoincrement())
+  goalStatement  String
+  category       String
+  nickname       String
+  status         String
+  createdAt      DateTime      @default(now())
+  year           DateTime
+  completionDate DateTime?
+  user           User          @relation(fields: [userId], references: [id])
+  userId         String
+  monthlyGoals   MonthlyGoal[]
 }
 // Each annual goal has 36 monthly goals?
 model MonthlyGoal {
-  id            Int          @id @default(autoincrement())
-  goalStatement String
-  category      String
-  nickname      String
-  status        String
-  createdAt     DateTime     @default(now())
-  month         DateTime
-  user          User         @relation(fields: [userId], references: [id])
-  userId        String
-  annualGoal    AnnualGoal   @relation(fields: [annualGoalId], references: [id])
-  annualGoalId  Int
-  weeklyGoals   WeeklyGoal[]
+  id             Int          @id @default(autoincrement())
+  goalStatement  String
+  category       String
+  nickname       String
+  status         String
+  createdAt      DateTime     @default(now())
+  month          DateTime
+  completionDate DateTime?
+  user           User         @relation(fields: [userId], references: [id])
+  userId         String
+  annualGoal     AnnualGoal   @relation(fields: [annualGoalId], references: [id])
+  annualGoalId   Int
+  weeklyGoals    WeeklyGoal[]
 }
 model WeeklyGoal {
-  id            Int         @id @default(autoincrement())
-  goalStatement String
-  category      String
-  nickname      String
-  status        String
-  createdAt     DateTime    @default(now())
-  week          DateTime
-  user          User        @relation(fields: [userId], references: [id])
-  userId        String
-  monthlyGoal   MonthlyGoal @relation(fields: [monthlyGoalId], references: [id])
-  monthlyGoalId Int
+  id             Int         @id @default(autoincrement())
+  goalStatement  String
+  category       String
+  nickname       String
+  status         String
+  createdAt      DateTime    @default(now())
+  week           DateTime
+  completionDate DateTime?
+  user           User        @relation(fields: [userId], references: [id])
+  userId         String
+  monthlyGoal    MonthlyGoal @relation(fields: [monthlyGoalId], references: [id])
+  monthlyGoalId  Int
 }
```


